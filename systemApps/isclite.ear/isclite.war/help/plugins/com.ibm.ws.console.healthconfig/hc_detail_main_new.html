<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" xml:lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2012" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2012" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="Creating a health policy: Define health policy general properties" />
<meta name="abstract" content="Use this page to create health policies, which are used to perform a variety of health-based assessments on clusters, dynamic clusters, and application server instances running on nodes." />
<meta name="description" content="Use this page to create health policies, which are used to perform a variety of health-based assessments on clusters, dynamic clusters, and application server instances running on nodes." />
<meta name="DC.Relation" scheme="URI" content="hc_collection.html" />
<meta name="DC.Relation" scheme="URI" content="hc_detail_main.html" />
<meta name="DC.Relation" scheme="URI" content="hc_condition_detail_new.html" />
<meta name="DC.Relation" scheme="URI" content="hc_appservers_detail_new.html" />
<meta name="DC.Relation" scheme="URI" content="hc_action_collection.html" />
<meta name="DC.Relation" scheme="URI" content="hc_custom_action.html" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="hc_detail_main_new" />
<meta name="DC.Language" content="en-us" />
<!-- Licensed Materials Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="./ibmdita.css" />
<link rel="stylesheet" type="text/css" href="./swg_info_common.css" />
<title>Creating a health policy: Define health policy general properties</title>
<style type="text/css">
        span.stealth { visibility:hidden; }
   </style></head>
<body role="main" class="help" id="hc_detail_main_new">
<h1 class="title topictitle1">Creating a health policy: Define health policy general properties </h1>
<div class="body"><p class="shortdesc">Use this page to create health policies, which are used
to perform a variety of health-based assessments on clusters, dynamic
clusters, and application server instances running on nodes. </p>
<p class="p">To view this administrative console page, click <span class="ph menucascade"><span class="ph uicontrol">Operational policies</span> &gt; <span class="ph uicontrol"> Health policies</span> &gt; <span class="ph uicontrol"> New</span></span>. </p>
<p class="p">Privileges for health policies differ, depending on the user’s
administrative role.  Roles include monitor, operator, configurator,
and administrator.  If you are a user with either a monitor or an
operator role, you can only view health policy information.  If you
are a user with either a configurator or an administrator role, you
have all configuration privileges for health policies.</p>
<p class="p">When you complete all of the required fields, click <span class="ph uicontrol">Next</span> to
proceed.</p>
</div>
<div class="topic nested1" xml:lang="en-us" id="genTopProcId2"><h2 class="title topictitle2">Name</h2>
<div class="body"><p class="shortdesc">Specifies the name of a health policy. The health policy
name is required and must be unique among all the health policies
in the cell.</p>
<p class="p">The name cannot begin with a period (<strong class="ph b"><kbd class="ph userinput">.</kbd></strong>)
or a space. A space does not generate an error, but leading and trailing
spaces are automatically deleted. Use meaningful and consistent health
policy names. For example, age-based health policies can be indicated
by naming the policies <kbd class="ph userinput">AGE_20DAYS</kbd>, <kbd class="ph userinput">AGE_15DAYS</kbd>.</p>
</div>
</div>
<div class="topic nested1" xml:lang="en-us" id="genTopProcId3"><h2 class="title topictitle2">Description</h2>
<div class="body"><p class="shortdesc">Specifies an additional description of the health policy.
The description is optional. You can edit the description when you
are creating or editing a health policy. Consider using the optional
description when you are using many health policies or when multiple
administrators manage the same set of health policies.</p>
</div>
</div>
<div class="topic nested1" xml:lang="en-us" id="existinghealthcondition"><h2 class="title topictitle2">Predefined health condition</h2>
<div class="body"><p class="shortdesc">The health condition defines the specific policy that is
implemented. Predefined health conditions are those that ship with
the <span class="ph">Intelligent Management</span>.</p>
<p class="p">Some policies are prevention-based and some are detection-based.
Prevention-based policies are used to avoid conditions that might
lead to problems, while the detection-based policies are used to identify
existing conditions and to achieve resolution. These policies can
be used to perform health-based assessments on clusters, dynamic clusters,
and application server instances running on nodes. In the case of
dynamic clusters, regardless of the health policy that you are using,
the minimum number of dynamic cluster instances remains running.</p>
<ul class="ul"><li class="li">When the <span class="ph uicontrol">age-based condition</span> breaches the
user-defined age value, the associated health actions are executed.
 This restart cleans out all cached and memory acquired data. If you
select age-based condition policy, you must define the age criteria.
The age-based condition is supported for all server types.</li>
<li class="li">The <span class="ph uicontrol">excessive request timeout condition</span> policy
tracks the memory that is used for request timeouts. When the percentage
of timeouts exceeds the breach of condition, the associated health actions
are executed. If you select the excessive request timeout condition,
you must set the memory used percentage threshold. The excessive request
timeout condition is supported for all server types.<div class="note restriction"><span class="restrictiontitle">Restriction:</span> The excessive request timeout condition does not
apply to Java Message Service
(JMS) and Internet Inter-ORB Protocol (IIOP) traffic.</div>
</li>
<li class="li">The <span class="ph uicontrol">excessive response time condition</span> policy
tracks the requests and the amount of time they take to complete.
When you select the excessive response time policy, you must define
the response time threshold. If in a specific time interval, the average
response time for the requests exceeds the threshold value, the health
policy is triggered. The excessive response time condition is supported
for all server types.</li>
<li class="li">The <span class="ph uicontrol">memory condition: excessive memory usage</span> policy
tracks the memory usage for a member. When the memory usage exceeds
a percentage of the heap size for a specified time, the health actions
are executed. If you select the excessive memory usage policy, you
must define the memory used and the time-over-memory threshold. The
excessive memory usage condition is supported only on application
servers on nodes that run WebSphere® Application
Server or WebSphere Application
Server Community Edition. You cannot define the excessive memory usage
condition for other middleware server types.</li>
<li class="li">The <span class="ph uicontrol">memory condition: memory leak</span> policy
tracks consistent downward trends in free memory that is available
to a server in the Java heap.
The detection level setting determines when these trends are detected.
 If you select the memory condition: memory leak policy, you must
define a detection level. The slower detection level setting requires
the most historical data. The normal and faster detection level settings
require the same amount of historical data, but the faster setting
allows analysis before the Java heap
expanded to its maximum configured size. This provides earlier detection capability, but is also more prone
to false positives. When this condition is breached, the health actions
are executed. The memory leak condition is not supported for other
middleware server types.</li>
<li class="li">The <span class="ph uicontrol"> storm drain condition</span> policy tracks
stuck requests. The health actions associated with this policy are
executed when the specified detection level is reached. Storm drain
detection relies on change point detection on a specific time series
data. The metrics that are used for detecting storm drain are the
response times and deployment workload manager weights that are observed
for the server. The storm drain condition applies only to dynamic
clusters and cells. If you select the storm drain condition policy,
you must select the detection level. <p class="p">To detect change points, the
health controller calculates a left mean and a right mean for a specific
point. For a point, the left mean consists of the mean value of <em class="ph i">N</em> samples
that arrive before this sample, and the right mean is the mean value
of <em class="ph i">N</em> samples, including the current point, that arrive later. The
difference of the left and the right mean values is stored and compared
with other differences in a set of values to <em class="ph i">N</em> to determine if
this difference is a local maxima. If this difference is the maximum
difference, then the point to which this difference corresponds, is
declared as a <em class="ph i">change point</em>. The two metrics that are used for
detecting storm drain are the response times and dynamic workload
manager weights that are observed for the server. </p>
The storm drain
condition is supported for all server types.<div class="note restriction"><span class="restrictiontitle">Restriction:</span> The
storm drain condition does not apply to JMS and IIOP traffic.</div>
</li>
<li class="li">The <span class="ph uicontrol">workload condition</span> policy executes
the associated health actions, when a specific user-defined number
of requests are serviced. If you select the workload policy, you must
define the total request criteria. The workload condition is supported
for all server types.</li>
<li class="li">The <span class="ph uicontrol">garbage collection percentage condition</span> policy
monitors a Java virtual machine
(JVM) or set of JVM’s to determine whether they are spending more
than the specified percentage of time in garbage collection over the
sampling time period. Since garbage collection increases processor
usage, this policy can inform you if poor performance is a result
of time spent in garbage collection.</li>
</ul>
</div>
</div>
<div class="topic nested1" xml:lang="en-us" id="customhealthcondition"><h2 class="title topictitle2">Custom health condition</h2>
<div class="body"><p class="shortdesc">You can define health conditions if the existing health
conditions do not fit your needs. Custom health conditions can be
tested against metrics in your environment.</p>
</div>
</div>
<div class="related-links">
<div class="relinfo"><strong>Related information</strong>:<br />
<div><a class="link build" href="hc_collection.html" title="Use this page to create and modify health policies. Health policies support two main approaches to maintaining a healthy environment: detection and prevention.">Health policy collection</a></div>
<div><a class="link build" href="hc_detail_main.html" title="Use this page to modify existing health policies. Health policies are used to maintain a healthy environment using prevention and detection methodologies.">Health policy settings</a></div>
<div><a class="link build" href="hc_condition_detail_new.html" title="Use this page to define the specific behavior of the health policy.">Creating a health policy: Define health condition properties</a></div>
<div><a class="link build" href="hc_appservers_detail_new.html" title="Use this page to assign membership properties to health policies.">Creating a health policy: Specify members to monitor</a></div>
<div><a class="link build" href="hc_action_collection.html" title="By default, you can define a health policy to execute any of the predefined health actions, such as restart a server, when a health policy is breached. Configure a custom action when you want your environment to take an action other than these defaults.">Custom actions collection</a></div>
<div><a class="link build" href="hc_custom_action.html" title="Specify details for your Java and non-Java custom actions.">Custom actions settings</a></div>
</div>
</div>
<hr align="left" /><br /><span class="runningfooter">File name: hc_detail_main_new.html</span></body>
</html>