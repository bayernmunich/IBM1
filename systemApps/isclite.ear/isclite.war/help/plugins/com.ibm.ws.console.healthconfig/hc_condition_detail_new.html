<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" xml:lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2012" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2012" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="Creating a health policy: Define health condition properties" />
<meta name="abstract" content="Use this page to define the specific behavior of the health policy." />
<meta name="description" content="Use this page to define the specific behavior of the health policy." />
<meta name="DC.Relation" scheme="URI" content="hc_condition_subex.html" />
<meta name="DC.Relation" scheme="URI" content="hc_collection.html" />
<meta name="DC.Relation" scheme="URI" content="hc_detail_main.html" />
<meta name="DC.Relation" scheme="URI" content="hc_detail_main_new.html" />
<meta name="DC.Relation" scheme="URI" content="hc_appservers_detail_new.html" />
<meta name="DC.Relation" scheme="URI" content="hc_action_collection.html" />
<meta name="DC.Relation" scheme="URI" content="hc_custom_action.html" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="hc_condition_detail_new" />
<meta name="DC.Language" content="en-us" />
<!-- Licensed Materials Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="./ibmdita.css" />
<link rel="stylesheet" type="text/css" href="./swg_info_common.css" />
<title>Creating a health policy: Define health condition properties</title>
<style type="text/css">
        span.stealth { visibility:hidden; }
   </style></head>
<body role="main" class="help" id="hc_condition_detail_new">
<h1 class="title topictitle1">Creating a health policy: Define health condition properties</h1>
<div class="body"><p class="shortdesc">Use this page to define the specific behavior of the health
policy.</p>
<p class="p"> To view this administrative console page, click <span class="ph menucascade"><span class="ph uicontrol">Operational policies</span> &gt; <span class="ph uicontrol"> Health policies</span> &gt; <span class="ph uicontrol"> New</span></span>. </p>
<p class="p">Privileges for health policies differ, depending on the user’s
administrative role.  Roles include monitor, operator, configurator,
and administrator.  If you are a user with either a monitor or an
operator role, you can only view health policy information.  If you
are a user with either a configurator or an administrator role, you
have all configuration privileges for health policies.</p>
</div>
<div class="topic nested1" xml:lang="en-us" id="genTopProcId4"><h2 class="title topictitle2">Health condition properties</h2>
<div class="body"><p class="shortdesc">Specifies properties that are specific to the health condition. </p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 1. Age-based condition properties</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d3420e75">Setting</th>
<th class="entry" valign="bottom" id="d3420e77">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d3420e75 "><span class="ph uicontrol">Maximum age</span></td>
<td class="entry" valign="top" headers="d3420e77 "><p class="p">This field is available for the age-based
policy. Acceptable values are positive whole numbers in days or hours
between <samp class="ph tt">1</samp> hour and <samp class="ph tt">365</samp> days. To enter a value like <samp class="ph tt">1.2</samp> days,
use <samp class="ph tt">36</samp> hours, because decimal numbers are not supported.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 2. Excessive request timeout condition properties</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d3420e107">Setting</th>
<th class="entry" valign="bottom" id="d3420e109">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d3420e107 "><span class="ph uicontrol">Timed out requests</span></td>
<td class="entry" valign="top" headers="d3420e109 "><p class="p">This field is available for the excessive
request timeout condition. The excessive request timeout condition
detects, for each server that is a member of the policy, the percentage
of requests directed at that server which timed out (over a <samp class="ph tt">60</samp> second
period) after being routed from the on demand router. Acceptable values
for this field are whole numbers between <samp class="ph tt">1</samp> and <samp class="ph tt">99</samp>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 3. Excessive response time condition properties</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d3420e136">Setting</th>
<th class="entry" valign="bottom" id="d3420e138">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d3420e136 "><span class="ph uicontrol">Response time</span></td>
<td class="entry" valign="top" headers="d3420e138 "><p class="p">This field is available for the excessive
response time condition policy. The excessive response time condition
policy is breached when the average response time for the requests
exceeds a specific time interval.  Acceptable values for this field
are between <samp class="ph tt">1</samp> millisecond and <samp class="ph tt">60</samp> minutes. </p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 4. Memory condition: excessive memory usage properties</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d3420e162">Setting</th>
<th class="entry" valign="bottom" id="d3420e164">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d3420e162 "><span class="ph uicontrol">JVM heap size</span></td>
<td class="entry" valign="top" headers="d3420e164 "><p class="p">The excessive memory usage condition policy
is breached when the memory usage exceeds a percentage of your heap
size over time. The total memory used percentage is used with the
time over memory threshold value to determine when to restart members.
Acceptable values for this field are whole numbers between <samp class="ph tt">1</samp> and <samp class="ph tt">99</samp>. </p>
</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d3420e162 "><span class="ph uicontrol">Offending time period</span></td>
<td class="entry" valign="top" headers="d3420e164 "><p class="p">This field is available for the excessive
memory usage condition policy. The excessive memory usage condition
policy is breached when the memory usage exceeds a percentage of your
heap size over time. Acceptable values for this field are between <samp class="ph tt">1</samp> second
and <samp class="ph tt">60</samp> minutes. </p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 5. Memory condition: memory leak condition properties</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d3420e201">Setting</th>
<th class="entry" valign="bottom" id="d3420e203">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d3420e201 "><span class="ph uicontrol">Detection level</span></td>
<td class="entry" valign="top" headers="d3420e203 "><div class="p">You can choose from the following detection
levels. For each level a trade-off exists between the speed and accuracy
of detecting suspected memory leaks. <ul class="ul"><li class="li"><strong class="ph b">Faster detection, higher probability of false alarms:</strong> A
faster detection level detects a potential memory leak quickly, however
this detection level has a greater chance of falsely identifying a
memory leak than a slower detection policy because the analysis is
done before the Java heap expands
to its maximum configured size. </li>
<li class="li"><strong class="ph b">Standard detection, standard probability of false alarms: </strong> A
standard detection level is more accurate than a faster one, but not
as quick to identify a potential memory leak. The standard and faster
settings require the same amount of historical data, but the standard
setting analyzes after the Java heap has expanded
to its maximum configured size. </li>
<li class="li"><strong class="ph b">Slower detection, lower probability of false alarms:</strong> A
slower detection level is the most accurate, however this detection
level does not detect a potential memory leak as quickly as the faster
detection level does. This slower setting requires the most historical
data.</li>
</ul>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 6.  Storm drain condition properties</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d3420e240">Setting</th>
<th class="entry" valign="bottom" id="d3420e242">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d3420e240 "><span class="ph uicontrol">Detection level</span></td>
<td class="entry" valign="top" headers="d3420e242 "><ul class="ul"><li class="li"><strong class="ph b">Standard detection, normal probability of false alarms</strong>:
A standard detection policy is less accurate than a slower one, but
quicker to identify a potential storm drain. <p class="p">This level uses fewer
samples (N=10) for both response times and dynamic workload manager
weights and detects a change point in each of the metrics based on
the sample set. As a result, this policy reaches a conclusion faster
because it waits for 20 samples, 10 for the left mean and 10 for the
right mean, for calculating a difference of means and looking for
a local maxima. The samples are collected at intervals of 15 seconds.
Therefore, the storm drain can be detected within 5 minutes of its
occurrence. However, because the samples are fewer, if the samples
have multiple transient peaks or dips,  then there is a higher probability
for false alarms. </p>
</li>
<li class="li"><strong class="ph b">Slower detection, lower probability of false alarms</strong>: A
slower detection policy is the most accurate, however it does not
detect a potential storm drain as quickly as the standard detection
policy does.<p class="p">This level uses more samples (N=15) for both response
times and dynamic workload manager weights. As a result, this policy reaches a conclusion
slower because the policy has to wait for 30 samples (15 for the left
mean and 15 for the right mean) for calculating a difference of means.
The detection time is seven minutes and 30 seconds. However, because
there are more samples, the presence of samples with transient peaks
or dips does not overly affect the mean values. Therefore the probability
of false alarms is lower. </p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 7. Workload condition properties</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d3420e271">Setting</th>
<th class="entry" valign="bottom" id="d3420e273">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d3420e271 "><span class="ph uicontrol">Total requests</span></td>
<td class="entry" valign="top" headers="d3420e273 "><p class="p">The workload condition policy is breached
when a certain user-defined number of requests are serviced. A request
value must be a whole number greater than <span class="keyword option">1000</span>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 8.  Garbage collection percentage condition properties</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d3420e294">Setting</th>
<th class="entry" valign="bottom" id="d3420e296">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d3420e294 "><span class="ph uicontrol">Percentage of time spent in garbage
collection</span></td>
<td class="entry" valign="top" headers="d3420e296 "><p class="p">The percentage of time spent in garbage collection
policy monitors a Java virtual
machine (JVM) or set of JVM’s to determine whether they are spending
more than a percentage of time in garbage collection over a specified period of time.
Units are percentages. The default value is 10. Acceptable values
for this field are whole numbers between <span class="keyword option">1</span> and <span class="keyword option">99</span>. </p>
</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d3420e294 "><span class="ph uicontrol">Sampling time period</span></td>
<td class="entry" valign="top" headers="d3420e296 "><p class="p">This field specifies the period of time over
which garbage collection data is collected. The percentage of time
spent in garbage collection during the sampling time period must be
over the threshold value prior to corrective action being taken. Units
are minutes and hours. The default value is <span class="keyword option">2</span> minutes.
Acceptable values for this field are between <span class="keyword option">1</span> minute
and <span class="keyword option">24</span> hours. </p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 9. Custom condition properties</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d3420e339">Setting</th>
<th class="entry" valign="bottom" id="d3420e341">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d3420e339 "><span class="ph uicontrol">Run reaction plan when</span></td>
<td class="entry" valign="top" headers="d3420e341 ">Specifies a subexpression that represents the
metrics that you are evaluating in your custom condition. </td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="topic nested1" id="genTopProcId5"><h2 class="title topictitle2">Health management monitor reaction</h2>
<div class="body"><p class="shortdesc">Specifies how the <span class="ph">Intelligent Management</span> behaves when
a defined health condition is reached.</p>
</div>
</div>
<div class="topic nested1" xml:lang="en-us" id="genTopProcId6"><h2 class="title topictitle2">Reaction mode</h2>
<div class="body"><p class="shortdesc">Specifies the reaction mode that defines the behavior of
the health policy. The reaction mode can be <span class="ph uicontrol">Supervised</span> or <span class="ph uicontrol">Automatic</span>.</p>
<ul class="ul"><li class="li">When the reaction mode is set to <span class="ph uicontrol">Supervised</span>,
health policies are active and recommendations on actions are sent
to the administrator with a runtime task. The administrator can follow
the recommendations. If the administrator approves a recommendation,
actions are taken to improve the health condition automatically.</li>
<li class="li">When the reaction mode is set to <span class="ph uicontrol">Automatic</span>,
health policies are actively logging data, and the product automatically takes actions
to improve the health conditions, without approval from the administrator.</li>
</ul>
</div>
</div>
<div class="topic nested1" xml:lang="en-us" id="genTopProcId7"><h2 class="title topictitle2">Take the following actions when the health condition breaches</h2>
<div class="body"><p class="shortdesc">You can define a specific set of actions to occur when
the health condition breaches. These actions can be the existing default
actions, or you can define custom actions to run an executable file.</p>
<p class="p">A list of actions displays in the order that they are run when
the health condition breaches. To add an action, click <span class="ph uicontrol">Add
action...</span>. You can choose an existing default health policy
action, a custom action that you have created, or you can create a new
custom action.</p>
<p class="p">To remove a step, select the step and click <span class="ph uicontrol">Remove action</span>.
To change the order of your steps, select one step to move and click <span class="ph uicontrol">Move
up</span> or <span class="ph uicontrol">Move down</span>.</p>
</div>
</div>
<div class="related-links">
<div class="relinfo"><strong>Related information</strong>:<br />
<div><a class="link build" href="hc_condition_subex.html" title="Use the custom health condition subexpression builder to define a custom health condition for your health policy. Use the build subexpression utility to build complex rule conditions from subexpressions by using AND, OR, NOT and parenthetical grouping. The subexpression builder validates the rule when you apply the changes, and alerts you to mismatched parentheses and unsupported logic operators.">Custom health condition subexpression builder</a></div>
<div><a class="link build" href="hc_collection.html" title="Use this page to create and modify health policies. Health policies support two main approaches to maintaining a healthy environment: detection and prevention.">Health policy collection</a></div>
<div><a class="link build" href="hc_detail_main.html" title="Use this page to modify existing health policies. Health policies are used to maintain a healthy environment using prevention and detection methodologies.">Health policy settings</a></div>
<div><a class="link build" href="hc_detail_main_new.html" title="Use this page to create health policies, which are used to perform a variety of health-based assessments on clusters, dynamic clusters, and application server instances running on nodes.">Creating a health policy: Define health policy general properties</a></div>
<div><a class="link build" href="hc_appservers_detail_new.html" title="Use this page to assign membership properties to health policies.">Creating a health policy: Specify members to monitor</a></div>
<div><a class="link build" href="hc_action_collection.html" title="By default, you can define a health policy to execute any of the predefined health actions, such as restart a server, when a health policy is breached. Configure a custom action when you want your environment to take an action other than these defaults.">Custom actions collection</a></div>
<div><a class="link build" href="hc_custom_action.html" title="Specify details for your Java and non-Java custom actions.">Custom actions settings</a></div>
</div>
</div>
<hr align="left" /><br /><span class="runningfooter">File name: hc_condition_detail_new.html</span></body>
</html>