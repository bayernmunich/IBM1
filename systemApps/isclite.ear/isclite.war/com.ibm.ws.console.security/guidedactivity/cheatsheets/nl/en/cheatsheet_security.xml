<?xml version="1.0" encoding="UTF-8" ?> 

<cheatsheet title="Enabling Global Security">

	<intro 
		href="security_cheatsheet_intro.htm">
        <description>
This guided activity leads you through a simple set of steps for enabling basic administrative security. 
After you have completed the cheat sheet, 
you will need a User ID and Password to login to the Administrative Console. 
See &lt;a target="help" href="http://publib.boulder.ibm.com/infocenter/ws60help/index.jsp?topic=/com.ibm.websphere.base.doc/info/aes/ae/tsec_plan.html"&gt;Planning to secure your environment&lt;/a&gt;
in the Information Center for more information about security.
&lt;br/&gt;&lt;br/&gt;

To continue, click &lt;strong&gt; Start&lt;/strong&gt;.
        </description>
	</intro>

	<item
        href=""
		title="Configure a user registry">
		<description>
The user registry stores user and group names for authentication and authorization purposes. 
Application servers will connect to the user registry to collect user-related information when creating credentials, which are then used to represent the user during authorization (for example, when logging into an application to check passwords).
See &lt;a target="help" href="http://publib.boulder.ibm.com/infocenter/ws60help/index.jsp?topic=/com.ibm.websphere.nd.doc/info/ae/ae/csec_registries.html
"&gt;User registries&lt;/a&gt;
in the Information Center for more information. 

&lt;br/&gt;&lt;br/&gt;Select the type of user registry that you plan to use and click &lt;strong&gt;Click to perform&lt;/strong&gt; to learn how to configure it.  
When you have completed configuring the user registry, you will return here to continue with further steps:

&lt;dl&gt;

	&lt;li&gt;

     Local OS
&lt;br/&gt;
&lt;A HREF="javascript:showHideList('localos')"&gt;
&lt;IMG SRC="/ibm/console/images/arrow_collapsed.gif" ALT="" ID="localosImg" ALIGN="left" BORDER="0" style="margin-left:-0.25em"/&gt;
&lt;/A&gt;
Read more about Local OS user registries
&lt;br/&gt;
&lt;TABLE id="localosList" style="font-size:100%;margin-left:1em;display:none"&gt;
&lt;TR&gt;
&lt;TD&gt;
Local OS user registries are the user registries that are part of the underlying operating system that application servers are running on.  
Local OS user registries are always available, and are typically the simplest way to configure users because you have already set them up in order to log into your machine.  You can use your local operating system's user registry for basic single machine, single application server configurations.
See &lt;a target="help" href="http://publib.boulder.ibm.com/infocenter/ws60help/index.jsp?topic=/com.ibm.websphere.base.doc/info/aes/ae/tsec_localos.html"&gt;Configuring local operating system user registries&lt;/a&gt;
in the Information Center for more information.
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;

&lt;A TARGET="detail" HREF="../guidedactivity/csframe.jsp?cheatSheetURI=com.ibm.ws.console.security/guidedactivity/cheatsheets/nl/lang/cheatsheet_localos.xml&amp;cheatSheetPackage=com.ibm.ws.console.security/guidedactivity/cheatsheets&amp;fromStep=1"&gt;Click to perform&lt;/A&gt;

&lt;/li&gt;
&lt;/dl&gt;



&lt;dl&gt;
	
	&lt;li&gt;
	
	LDAP
&lt;br/&gt;
&lt;A HREF="javascript:showHideList('ldap')"&gt;
&lt;IMG SRC="/ibm/console/images/arrow_collapsed.gif" ALT="" ID="ldapImg" ALIGN="left" BORDER="0" style="margin-left:-0.25em"/&gt;
&lt;/A&gt;
Read more about LDAP user registries
&lt;br/&gt;
&lt;TABLE id="ldapList" style="font-size:100%;margin-left:1em;display:none"&gt;
&lt;TR&gt;
&lt;TD&gt;
    Another commonly used type of user registry is a directory server accessible via LDAP (Lightweight Directory Access Protocol).  When working with multiple servers, such as clustering and high availability, and with multiple machines, you will probably run into limitations using a single machine's local operating system user registry, and need to move up to a directory server using LDAP for storing user and group information.
    See &lt;a target="help" href="http://publib.boulder.ibm.com/infocenter/ws60help/index.jsp?topic=/com.ibm.websphere.base.doc/info/aes/ae/tsec_ldap.html"&gt;Configuring Lightweight Directory Access Protocol user registries&lt;/a&gt;
in the Information Center for more information.
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;

&lt;A TARGET="detail" HREF="../guidedactivity/csframe.jsp?cheatSheetURI=com.ibm.ws.console.security/guidedactivity/cheatsheets/nl/lang/cheatsheet_ldap.xml&amp;cheatSheetPackage=com.ibm.ws.console.security/guidedactivity/cheatsheets&amp;fromStep=1"&gt; Click to perform&lt;/A&gt;

&lt;/li&gt;
&lt;/dl&gt;

&lt;dl&gt;
	&lt;li&gt;
Custom registry 
&lt;br/&gt; 
&lt;A HREF="javascript:showHideList('custom')"&gt;
&lt;IMG SRC="/ibm/console/images/arrow_collapsed.gif" ALT="" ID="customImg" ALIGN="left" BORDER="0" style="margin-left:-0.25em"/&gt;
&lt;/A&gt;
Read more about Custom user registries
&lt;br/&gt;
&lt;TABLE id="customList" style="font-size:100%;margin-left:1em;display:none"&gt;
&lt;TR&gt;
&lt;TD&gt;
      A third option for user registries is a user registry that is not one of the operating system user registries supported by WebSphere and is not an LDAP-compliant user registry.
      Connecting to these types of user registries is an advanced but supported option, and requires a software development effort to complete.  
    See &lt;a target="help" href="http://publib.boulder.ibm.com/infocenter/ws60help/index.jsp?topic=/com.ibm.websphere.base.doc/info/aes/ae/usec_tdaman.html"&gt;Configuring custom user registries&lt;/a&gt;
in the Information Center for more information.
&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;

 &lt;A TARGET="detail" HREF="../guidedactivity/csframe.jsp?cheatSheetURI=com.ibm.ws.console.security/guidedactivity/cheatsheets/nl/lang/cheatsheet_custom.xml&amp;cheatSheetPackage=com.ibm.ws.console.security/guidedactivity/cheatsheets&amp;fromStep=1"&gt;Click to perform&lt;/A&gt;
 
&lt;/li&gt;
&lt;/dl&gt;

To continue, click &lt;strong&gt; Next step&lt;/strong&gt;.
</description>
	</item>
<item
		href=""
		title="Configure an authentication mechanism">
		<action
        class="com.ibm.ws.console.security.forwardCmd.do?forwardName=LTPA.config.view&amp;sfname=authMechanisms&amp;resourceUri=security.xml&amp;parentRefId=Security_1&amp;perspective=tab.configuration"/>
		<description>
Authentication is the process of establishing whether a client is valid in a particular context. A client can be either an end user, a machine, or an application.
&lt;br/&gt;&lt;br/&gt;
Multiple types of authentication mechanisms are supported in WebSphere v6.0; 
however, this step will only outline the use of the most common authentication mechanism, 
  
&lt;a target="help" href="http://publib.boulder.ibm.com/infocenter/ws60help/index.jsp?topic=/com.ibm.websphere.base.doc/info/aes/ae/usec_rltpa.html"&gt;Lightweight Third Party Authentication (LTPA)&lt;/a&gt;. 



You may use 
&lt;a target="help" href="http://publib.boulder.ibm.com/infocenter/ws60help/index.jsp?topic=/com.ibm.websphere.base.doc/info/aes/ae/rsec_swam.html"&gt;Simple WebSphere Authentication Mechanism (SWAM)&lt;/a&gt; 
if within a single-server environment. No setup is needed for SWAM, so you may continue to the next step.

&lt;br/&gt;
&lt;br/&gt;
&lt;A HREF="javascript:showHideList('ltpa')"&gt;
&lt;IMG SRC="/ibm/console/images/arrow_collapsed.gif" ALT="" ID="ltpaImg" ALIGN="left" BORDER="0" style="margin-left:-0.25em"/&gt;
&lt;/A&gt;Read more about LTPA
&lt;br/&gt;
&lt;TABLE id="ltpaList" style="font-size:100%;margin-left:0em;display:none"&gt;
&lt;TR&gt;
&lt;TD&gt;
LTPA is intended for distributed, multiple application server and machine environments.  
It is offered for the Network Deployment product but is encouraged for all environments.
    See 
    &lt;a target="help" href="http://publib.boulder.ibm.com/infocenter/ws60help/index.jsp?topic=/com.ibm.websphere.base.doc/info/aes/ae/tsec_authentication.html"&gt;Configuring authentication mechanisms&lt;/a&gt;
in the Information Center for more information.





&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
&lt;/li&gt;
&lt;/dl&gt;



&lt;br/&gt;
To configure LTPA by setting key generation passwords and to generate the LTPA keys:
&lt;ol&gt;
&lt;li&gt;Click &lt;strong&gt;Click to perform&lt;/strong&gt; to load the LTPA configuration panel&lt;/li&gt;
&lt;li&gt;Enter a password and confirm it in the password fields. This
password is used to encrypt and decrypt the LTPA keys during export and import
of the keys. &lt;strong&gt;Important:&lt;/strong&gt; Remember this password because you need to enter it again any time keys
from this cell are exported to another cell.&lt;/li&gt;
&lt;li&gt;Enter a positive integer value in the Timeout field.
This timeout value refers to how long an LTPA token is valid in minutes.
The token contains this expiration time so that any server that receives the
token can verify that the token is valid before proceeding further. When
the token expires, the user is prompted to log in. An optimal value for this
field depends on your configuration. 
&lt;/li&gt;
&lt;li&gt;Click &lt;strong&gt;Apply&lt;/strong&gt; or &lt;strong&gt;OK&lt;/strong&gt;. The LTPA configuration is now
set. Do not generate the LTPA keys in this step because they are automatically
generated later.
&lt;/li&gt;

&lt;/ol&gt;



To continue, click &lt;strong&gt; Next step&lt;/strong&gt;.
        </description>
	</item>
	<item
		href=""
		title="Validate security settings">
		<action
            class="navigatorCmd.do?forwardName=Security.config.view"/>
		<description>
To validate the security settings
            &lt;ol&gt;
            &lt;li&gt;Click &lt;strong&gt; Click to perform&lt;/strong&gt; to load the Global Security panel&lt;/li&gt;
            &lt;li&gt;Select the boxes next to &lt;strong&gt;Enable global security&lt;/strong&gt; and &lt;strong&gt;Enforce Java 2 security&lt;/strong&gt; if these boxes are not selected.&lt;/li&gt;
            &lt;li&gt;Specify the user registry that you configured in Active user registry list.&lt;/li&gt;
            &lt;li&gt;Specify the authentication mechanism that you configured in Active authentication mechanism list.&lt;/li&gt;

            &lt;li&gt;Click &lt;strong&gt;Apply&lt;/strong&gt; on the Global Security panel to validate the configuration changes made so far.  
            Correct any problems mentioned in the validation messages.  See 
            &lt;A target="help" HREF="http://publib.boulder.ibm.com/infocenter/ws60help/index.jsp?topic=/com.ibm.websphere.base.doc/info/aes/ae/rtrb_secconfigprobs.html"&gt;
                        Errors when trying to configure or enable security            
            &lt;/A&gt; for more information on troubleshooting security problems.

            &lt;/li&gt;
            &lt;/ol&gt;
To continue, click &lt;strong&gt; Next step&lt;/strong&gt;.
		</description>
	</item>

	<item
		href=""
		title="Save and synchronize configuration">
		<action
			class=""/>
		<description>
Click &lt;strong&gt;Save&lt;/strong&gt; in the message at the top of the console panel to update the configuration in the master repository.
&lt;br/&gt;&lt;br/&gt;To continue, click &lt;strong&gt; Next step&lt;/strong&gt;.
		</description>
	</item>
    
    
    <item
		href=""
		title="Map users to administrative roles">
		<action
			class="navigatorCmd.do?forwardName=console.users.main"/>
		<description>
After security is enabled, you need to authorize user access to the console.   This is done by either mapping individual users to adminsitrative roles, or by mapping groups of users to administrative roles.
&lt;br/&gt;
&lt;br/&gt;
On WebSphere for z/OS, you can either map users to administrative roles through WebSphere or through the platform security product.  Read InfoCenter article &lt;a target="help" href="http://publib.boulder.ibm.com/infocenter/ws60help/index.jsp?topic=/com.ibm.websphere.zseries.doc/info/zseries/ae/tsec_tasroles.html"&gt;Assigning users and groups to roles&lt;/a&gt; for information on mapping users to roles on z/OS.
&lt;br/&gt;
&lt;br/&gt;
In this step, you can assign users to one of four different predefined roles, depending on the level of access that you want each user to have.  
If you already have groups of users defined in your user registry, click &lt;strong&gt;Next step&lt;/strong&gt; to assign role mappings to administrative groups, rather than individual users.
&lt;br/&gt;
&lt;br/&gt;
It is strongly recommended that at least one user ID should be mapped to the administrator role and a best practice not to use the Server ID for daily administrative purposes.            
            &lt;ol&gt;
            &lt;li&gt;Click &lt;strong&gt; Click to perfom&lt;/strong&gt; to load the Console users panel.&lt;/li&gt;
            &lt;li&gt;Click &lt;strong&gt; Add&lt;/strong&gt; and enter the user ID, password.&lt;/li&gt;
            &lt;li&gt;Select one or more an administrative roles for the new user.&lt;/li&gt;
            &lt;li&gt;Click &lt;strong&gt;Apply&lt;/strong&gt; to save the new user to your workspace.&lt;/li&gt;
            &lt;/ol&gt;
To continue, click &lt;strong&gt; Next step&lt;/strong&gt;.
</description>
	</item>

    <item
		href=""
		title="Map groups to administrative roles">
		<action
			class="navigatorCmd.do?forwardName=console.groups.main"/>
		<description>
Additionally,  you can assign groups of users to one of four different predefined administrative roles, depending on the level of access that you want each user to have.
&lt;ol&gt;
            &lt;li&gt;Click &lt;strong&gt; Click to perfom&lt;/strong&gt; to load the console groups panel.&lt;/li&gt;
            &lt;li&gt;Click &lt;strong&gt; Add&lt;/strong&gt; and enter the name of a group that is already defined in the user registry.&lt;/li&gt;
            &lt;li&gt;Select one or more an administrative roles for the new group.&lt;/li&gt;
            &lt;li&gt;Click &lt;strong&gt;Apply&lt;/strong&gt; to save the new group to your workspace.&lt;/li&gt;
            &lt;/ol&gt;
To continue, click &lt;strong&gt; Next step&lt;/strong&gt;.
</description>
	</item>

	<item
		href=""
		title="Save and synchronize configuration">
		<action
			class=""/>
		<description>
Click &lt;strong&gt;Save&lt;/strong&gt; in the message at the top of the console panel to update the configuration in the master repository.
&lt;br/&gt;&lt;br/&gt;To continue, click &lt;strong&gt; Next step&lt;/strong&gt;.
		</description>
	</item>


	<item
		href=""
		title="Restart servers and verify security enablement"
        class="navigatorCmd.do?forwardName=WebServer.content.main">
		<description>
For security to take effect in a single-server environment, you must take the following actions:
&lt;ol&gt; 
&lt;li&gt;Stop the application server and restart it.&lt;/li&gt; 
&lt;li&gt;Then you can open the administrative console in a browser by typing it's url, &lt;TT&gt;http://{host}:{administrative port}/ibm/console&lt;/TT&gt;.&lt;/li&gt; 
&lt;li&gt;When the console starts, you are prompted for both a user ID and a password.&lt;/li&gt; 
&lt;li&gt;Use one of the passwords that you specified as the administrator in the step, Define users to roles.&lt;/li&gt;
&lt;/ol&gt;
&lt;br/&gt;
If you are in an environment with multiple nodes, you must take the following actions: 
&lt;ol&gt; 
&lt;li&gt;Click System Administration > Nodes to display the Nodes collection panel.&lt;/li&gt;
&lt;li&gt;Click Full Resynchronize to send the new configuration to the node agents.&lt;/li&gt; 
&lt;li&gt;Stop the deployment manager by clicking System Administration > Deployment manager > Stop.&lt;/li&gt; 
&lt;li&gt;Restart the deployment manager using the &lt;TT&gt;startManager&lt;/TT&gt; command.&lt;/li&gt; 
&lt;li&gt;Log in with your user ID and password. Use one of the passwords that you specified as the administrator in the step, Map users to administrative roles.&lt;/li&gt; 
&lt;li&gt;Restart all of the node agents and application servers by clicking System administration > Node agents > Restart all servers on node.&lt;/li&gt; 
&lt;/ol&gt;



If there were problems with enabling security, refer to &lt;a target="help" href="http://publib.boulder.ibm.com/infocenter/ws60help/index.jsp?topic=/com.ibm.websphere.base.doc/info/aes/ae/tsec_trouble.html"&gt;Troubleshooting security configurations&lt;/a&gt;
in the Information Center for more information.



		</description>
 	</item>





</cheatsheet>